# M6.15 PraiseController 归档

**任务**
完成 PraiseController 的逻辑与 UI 接入验证（并行完成：Logic/Test/UI）。

**验证状态**
已通过（Manual Harness Verification）。

**变更记录**
- PraiseController 逻辑已完成（exit_crossed 触发、10s 冷却、5s 冻结/快门解除）。
- UI 集成完成并做性能优化。
- 进度表已标记 M6.15 完成。

## 沉淀经验（性能关键）
**卡顿陷阱**
- `.ultraThinMaterial` 在高频状态切换下触发昂贵的合成与模糊管线，造成明显卡顿。
- Praise 视图与高频 PoseSpec 输出未解耦，导致频繁重绘与布局抖动。

**解决方案（架构经验）**
- **动静视图分离**：
  - 将静态背景/材质与动态文本/状态分层，避免材质层在每次状态变更时重绘。
- **TierScheduler ROI 缓存**：
  - 复用 ROI 计算结果，减少在 UI 频繁刷新时的计算负担，避免渲染线程与计算线程相互争抢。

**拒绝连线（明确策略）**
- 暂不将 PraiseController 接入 cue pipeline（遵循“一次只改一个模块”）。
- 真正信号绑定作为下一独立任务规划。

**Changelog 草稿**
- 完成 PraiseController 逻辑与 UI 接入，并记录性能优化经验（动静分离 + ROI 缓存）。

**PR 描述草稿**
背景：实现 PraiseController，并验证 exit_crossed 的冻结与冷却规则。
变更：完成逻辑与 UI 层集成，规避高频重绘导致的性能问题。
验证：Manual Harness Verification。

**归档位置**
- /Users/fanqie/Projects/opencode_just_photo/memory-bank/m6.15-praise-archive.md

**Assumptions**
- 归档仅记录事实与经验，不新增功能逻辑或连线行为。
